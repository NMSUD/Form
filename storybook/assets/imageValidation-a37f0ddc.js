import{a as b}from"./dateHelper-42e3f96b.js";import{m as A}from"./textValidation-48b0264a.js";const $=5,H=12,h=(e,t=[])=>e==null?t:Array.isArray(e)==!0?[...e]:[e];var c=function(){function e(t){this.name=t}return e}(),E=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(e){E(t,e);function t(n){var r,s,o=e.call(this)||this;return o.name="ServiceNotFoundError",o.normalizedIdentifier="<UNKNOWN_IDENTIFIER>",typeof n=="string"?o.normalizedIdentifier=n:n instanceof c?o.normalizedIdentifier="Token<"+(n.name||"UNSET_NAME")+">":n&&(n.name||!((r=n.prototype)===null||r===void 0)&&r.name)&&(o.normalizedIdentifier="MaybeConstructable<"+n.name+">"||"MaybeConstructable<"+((s=n.prototype)===null||s===void 0?void 0:s.name)+">"),o}return Object.defineProperty(t.prototype,"message",{get:function(){return'Service with "'+this.normalizedIdentifier+'" identifier was not found in the container. Register it before usage via explicitly calling the "Container.set" function or using the "@Service()" decorator.'},enumerable:!1,configurable:!0}),t}(Error),I=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(e){I(t,e);function t(n){var r,s,o=e.call(this)||this;return o.name="CannotInstantiateValueError",o.normalizedIdentifier="<UNKNOWN_IDENTIFIER>",typeof n=="string"?o.normalizedIdentifier=n:n instanceof c?o.normalizedIdentifier="Token<"+(n.name||"UNSET_NAME")+">":n&&(n.name||!((r=n.prototype)===null||r===void 0)&&r.name)&&(o.normalizedIdentifier="MaybeConstructable<"+n.name+">"||"MaybeConstructable<"+((s=n.prototype)===null||s===void 0?void 0:s.name)+">"),o}return Object.defineProperty(t.prototype,"message",{get:function(){return'Cannot instantiate the requested value for the "'+this.normalizedIdentifier+`" identifier. The related metadata doesn't contain a factory or a type to instantiate.`},enumerable:!1,configurable:!0}),t}(Error),l=Symbol("EMPTY_VALUE"),f=globalThis&&globalThis.__assign||function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},f.apply(this,arguments)},T=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)r[s]=o[i];return r},d=function(){function e(t){this.services=[],this.id=t}return e.prototype.has=function(t){return!!this.findService(t)},e.prototype.get=function(t){var n=u.of(void 0),r=n.findService(t),s=this.findService(t);if(r&&r.global===!0)return this.getServiceValue(r);if(s)return this.getServiceValue(s);if(r&&this!==n){var o=f({},r);o.value=l,this.set(o);var i=this.getServiceValue(o);return this.set(f(f({},o),{value:i})),i}if(r)return this.getServiceValue(r);throw new y(t)},e.prototype.getMany=function(t){var n=this;return this.findAllServices(t).map(function(r){return n.getServiceValue(r)})},e.prototype.set=function(t,n){var r=this;if(t instanceof Array)return t.forEach(function(i){return r.set(i)}),this;if(typeof t=="string"||t instanceof c)return this.set({id:t,type:null,value:n,factory:void 0,global:!1,multiple:!1,eager:!1,transient:!1});if(typeof t=="function")return this.set({id:t,type:t,value:n,factory:void 0,global:!1,multiple:!1,eager:!1,transient:!1});var s=f({id:new c("UNREACHABLE"),type:null,factory:void 0,value:l,global:!1,multiple:!1,eager:!1,transient:!1},t),o=this.findService(s.id);return o&&o.multiple!==!0?Object.assign(o,s):this.services.push(s),s.eager&&this.get(s.id),this},e.prototype.remove=function(t){var n=this;return Array.isArray(t)?t.forEach(function(r){return n.remove(r)}):this.services=this.services.filter(function(r){return r.id===t?(n.destroyServiceInstance(r),!1):!0}),this},e.prototype.reset=function(t){var n=this;switch(t===void 0&&(t={strategy:"resetValue"}),t.strategy){case"resetValue":this.services.forEach(function(r){return n.destroyServiceInstance(r)});break;case"resetServices":this.services.forEach(function(r){return n.destroyServiceInstance(r)}),this.services=[];break;default:throw new Error("Received invalid reset strategy.")}return this},e.prototype.findAllServices=function(t){return this.services.filter(function(n){return n.id===t})},e.prototype.findService=function(t){return this.services.find(function(n){return n.id===t})},e.prototype.getServiceValue=function(t){var n,r=l;if(t.value!==l)return t.value;if(!t.factory&&!t.type)throw new _(t.id);if(t.factory)if(t.factory instanceof Array){var s=void 0;try{s=this.get(t.factory[0])}catch(m){if(m instanceof y)s=new t.factory[0];else throw m}r=s[t.factory[1]](this,t.id)}else r=t.factory(this,t.id);if(!t.factory&&t.type){var o=t.type,i=((n=Reflect)===null||n===void 0?void 0:n.getMetadata("design:paramtypes",o))||[],a=this.initializeParams(o,i);a.push(this),r=new(o.bind.apply(o,T([void 0],a)))}if(!t.transient&&r!==l&&(t.value=r),r===l)throw new _(t.id);return t.type&&this.applyPropertyHandlers(t.type,r),r},e.prototype.initializeParams=function(t,n){var r=this;return n.map(function(s,o){var i=u.handlers.find(function(a){return(a.object===t||a.object===Object.getPrototypeOf(t))&&a.index===o});if(i)return i.value(r);if(s&&s.name&&!r.isPrimitiveParamType(s.name))return r.get(s)})},e.prototype.isPrimitiveParamType=function(t){return["string","boolean","number","object"].includes(t.toLowerCase())},e.prototype.applyPropertyHandlers=function(t,n){var r=this;u.handlers.forEach(function(s){typeof s.index!="number"&&(s.object.constructor!==t&&!(t.prototype instanceof s.object.constructor)||s.propertyName&&(n[s.propertyName]=s.value(r)))})},e.prototype.destroyServiceInstance=function(t,n){n===void 0&&(n=!1);var r=n||!!t.type||!!t.factory;if(r){if(typeof(t?.value).destroy=="function")try{t.value.destroy()}catch{}t.value=l}},e}(),u=function(){function e(){}return e.of=function(t){if(t===void 0&&(t="default"),t==="default")return this.globalInstance;var n=this.instances.find(function(r){return r.id===t});return n||(n=new d(t),this.instances.push(n)),n},e.has=function(t){return this.globalInstance.has(t)},e.get=function(t){return this.globalInstance.get(t)},e.getMany=function(t){return this.globalInstance.getMany(t)},e.set=function(t,n){return this.globalInstance.set(t,n),this},e.remove=function(t){return this.globalInstance.remove(t),this},e.reset=function(t){if(t===void 0&&(t="default"),t=="default")this.globalInstance.reset(),this.instances.forEach(function(r){return r.reset()});else{var n=this.instances.find(function(r){return r.id===t});n&&(n.reset(),this.instances.splice(this.instances.indexOf(n),1))}return this},e.registerHandler=function(t){return this.handlers.push(t),this},e.import=function(t){return this},e.handlers=[],e.globalInstance=new d("default"),e.instances=[],e}();function v(e){return function(t){var n={id:t,type:t,factory:void 0,multiple:!1,global:!1,eager:!1,transient:!1,value:l};e instanceof c||typeof e=="string"?n.id=e:e&&(n.id=e.id||t,n.factory=e.factory||void 0,n.multiple=e.multiple||!1,n.global=e.global||!1,n.eager=e.eager||!1,n.transient=e.transient||!1),u.set(n)}}var N=Object.defineProperty,w=Object.getOwnPropertyDescriptor,C=(e,t,n,r)=>{for(var s=r>1?void 0:r?w(t,n):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&N(t,n,s),s};let g=class{getNmsUdFormWebUrl=()=>this.get("VITE_NMSUD_FORM_WEB_URL");getNmsUdApiUrl=()=>this.get("VITE_NMSUD_API_URL");getNmsUdFormDataUrl=()=>this.get("VITE_NMSUD_FORM_DATA_URL");getNmsUdFormDocsUrl=()=>this.get("VITE_NMSUD_FORM_DOCS_URL");getApiPort=()=>this.getNumber("API_PORT",3001);getApiSecret=()=>this.get("API_SECRET");getXataApiKey=()=>this.get("XATA_API_KEY");getXataDbUrl=()=>this.get("XATA_DB_URL");getXataFallbackBranch=()=>this.get("XATA_FALLBACK_BRANCH");getDiscordWebhookUrl=()=>this.get("DISCORD_WEBHOOK_URL");getGithubActionTriggerOnDecision=()=>this.getBool("GITHUB_ACTION_TRIGGER_ON_DECISION");getGithubActionOwner=()=>this.get("GITHUB_ACTION_OWNER");getGithubActionRepo=()=>this.get("GITHUB_ACTION_REPO");getGithubActionWorkflowId=()=>this.get("GITHUB_ACTION_WORKFLOW_ID");getGithubActionMinBetweenRuns=()=>this.getNumber("GITHUB_ACTION_MINUTES_BETWEEN_RUN");getGithubActionAuthToken=()=>this.get("GITHUB_AUTH_TOKEN");getCaptchaEnabled=()=>this.getBool("VITE_ENABLE_CAPTCHA");getHCaptchaSecret=()=>this.get("HCAPTCHA_SECRET");getHCaptchaSiteKey=()=>this.get("VITE_HCAPTCHA_SITE_KEY");isProd=()=>this.get("NODE_ENV").toLocaleLowerCase()==="production"||this.get("MODE").toLocaleLowerCase()==="production";packageVersion=()=>this.get("PACKAGE_VERSION");buildVersion=()=>this.get("BUILD_VERSION");get(e,t){const n=process?.env?.[e];return t!=null?n??t:n??""}getBool=(e,t)=>this.get(e,t).toLowerCase()=="true";getNumber=(e,t)=>Number(this.get(e,t?.toString?.()))};g=C([v()],g);const P=new c("APP_TYPE"),V=()=>u.get(P),j=()=>u.get(g),D=async(e,t)=>[`**${e}**: ${t}`],z=e=>async(t,n)=>[`**${t}**: [${e}](${n})`],B=async(e,t)=>[`**${e}**: ${h(t).join(", ")}`],F=async(e,t)=>[`**${e}**: ${h(t).map((n,r)=>`[Image${r+1}](${n})`).join(", ")}`],W=async(e,t)=>[`**${e}**: ${b(t,"DD MMM YY")}`],G=e=>async(t,n)=>{const r=[];for(const s of n){const o=await e.dbCall(s);if(o.isSuccess==!1){r.push("**error**");continue}const i=e.mapValue(o.value);r.push(i)}return[`**${t}**: ${h(r).join(", ")}`]},S=500,K={label:"Contact Details (only visible to NMSUD organisers)",helpText:"This is so that we can get in contact with you if there are any issue with your submissions, etc.",defaultValue:"",discord:{label:"Contact Details",display:D},validator:A(S)};var O=Object.defineProperty,U=Object.getOwnPropertyDescriptor,L=(e,t,n,r)=>{for(var s=r>1?void 0:r?U(t,n):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&O(t,n,s),s};let p=class{_logs=[];_logStyle=e=>{switch(e){case"log":return"color: green; font-size: medium";case"warn":return"color: orange; font-size: medium";case"error":return"color: red; font-size: x-large"}};_track=e=>(t,...n)=>{const r={type:e,message:t,optionalParams:n.map(o=>JSON.stringify(o,null,2))};this._logs.push(r);const s=this._logStyle(r.type);console.log((r.optionalParams??[]).length>0?`%c${r.message}
additional params:
${(r.optionalParams??[]).join(`
\r`)}`:`%c${r.message}`,s)};i=this._track("log");w=this._track("warn");e=this._track("error");getLogs=()=>this._logs};p=L([v()],p);const k=()=>u.get(p),M=e=>t=>h(t).length>=e?{isValid:!0}:{isValid:!1,errorMessage:`Minimum number of items that need to be selected is ${e}`},Y=e=>t=>h(t).length<=e?{isValid:!0}:{isValid:!1,errorMessage:`Too many items selected! Maximum number of items allowed to be selected is ${e}`},q=e=>({isValid:!0}),X=e=>t=>t!=null?{isValid:!0}:{isValid:!1,errorMessage:e??"Field shouldn't be empty"},J=(...e)=>t=>{for(const n of e){const r=n(t);if(r.isValid===!1)return r}return{isValid:!0}},Q=e=>t=>{let n=e[V()];return n==null?{isValid:!0}:n(t)},Z=e=>t=>{const n=h(t);for(const r of n){const s=e(r);if(s.isValid===!1)return s}return{isValid:!0}},tt=e=>t=>{if(e.maxHeight!=null&&e.maxHeight<t.height)return{isValid:!1,errorMessage:`Image is too big, height should be less than or equal to ${e.maxHeight}px.`};if(e.maxWidth!=null&&e.maxWidth<t.width)return{isValid:!1,errorMessage:`Image is too big, width should be less than or equal to ${e.maxWidth}px.`};if(e.minHeight!=null&&e.minHeight>t.height)return{isValid:!1,errorMessage:`Image is too small, height should be greater than or equal to ${e.minHeight}px.`};if(e.minWidth!=null&&e.minWidth>t.width)return{isValid:!1,errorMessage:`Image is too small, width should be greater than or equal to ${e.minWidth}px.`};if(e.maxSizeMb!=null){const n=t.fileSize/1048576;if(e.maxSizeMb<n)return{isValid:!1,errorMessage:`Image is too large, image size limit is ${e.maxSizeMb}mb.`}}return{isValid:!0,errorMessage:""}};export{u as C,v as S,Q as a,X as b,D as c,F as d,Y as e,h as f,M as g,B as h,K as i,$ as j,k,j as l,J as m,q as n,W as o,H as p,G as q,z as s,Z as v,tt as w};
