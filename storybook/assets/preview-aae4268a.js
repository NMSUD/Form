let d;const A=new Uint8Array(16);function w(){if(!d&&(d=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(A)}const r=[];for(let t=0;t<256;++t)r.push((t+256).toString(16).slice(1));function D(t,e=0){return r[t[e+0]]+r[t[e+1]]+r[t[e+2]]+r[t[e+3]]+"-"+r[t[e+4]]+r[t[e+5]]+"-"+r[t[e+6]]+r[t[e+7]]+"-"+r[t[e+8]]+r[t[e+9]]+"-"+r[t[e+10]]+r[t[e+11]]+r[t[e+12]]+r[t[e+13]]+r[t[e+14]]+r[t[e+15]]}const I=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_={randomUUID:I};function b(t,e,n){if(_.randomUUID&&!e&&!t)return _.randomUUID();t=t||{};const i=t.random||(t.rng||w)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let o=0;o<16;++o)e[n+o]=i[o];return e}return D(i)}const{addons:T}=__STORYBOOK_MODULE_PREVIEW_API__,{global:O}=__STORYBOOK_MODULE_GLOBAL__,{ImplicitActionsDuringRendering:v}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__;var S="storybook/actions",U=`${S}/action-event`,j={depth:10,clearOnStoryChange:!0,limit:50},m=(t,e)=>{let n=Object.getPrototypeOf(t);return!n||e(n)?n:m(n,e)},x=t=>!!(typeof t=="object"&&t&&m(t,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof t.persist=="function"),V=t=>{if(x(t)){let e=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));e.persist();let n=Object.getOwnPropertyDescriptor(e,"view"),i=n?.value;return typeof i=="object"&&i?.constructor.name==="Window"&&Object.defineProperty(e,"view",{...n,value:Object.create(i.constructor.prototype)}),e}return t},P=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?b():Date.now().toString(36)+Math.random().toString(36).substring(2);function u(t,e={}){let n={...j,...e},i=function(...o){if(e.implicit){let g=("__STORYBOOK_PREVIEW__"in O?O.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find(p=>p.phase==="playing"||p.phase==="rendering");if(g){let p=!window?.FEATURES?.disallowImplicitActionsInRenderV8,y=new v({phase:g.phase,name:t,deprecated:p});if(p)console.warn(y);else throw y}}let c=T.getChannel(),s=P(),a=5,l=o.map(V),h=o.length>1?l:l[0],E={id:s,count:0,data:{name:t,args:h},options:{...n,maxDepth:a+(n.depth||3),allowFunction:n.allowFunction||!1}};c.emit(U,E)};return i.isAction=!0,i}var R=(t,e)=>typeof e[t]>"u"&&!(t in e),f=t=>{let{initialArgs:e,argTypes:n,id:i,parameters:{actions:o}}=t;if(!o||o.disable||!o.argTypesRegex||!n)return{};let c=new RegExp(o.argTypesRegex);return Object.entries(n).filter(([s])=>!!c.test(s)).reduce((s,[a,l])=>(R(a,e)&&(s[a]=u(a,{implicit:!0,id:i})),s),{})},F=t=>{let{initialArgs:e,argTypes:n,parameters:{actions:i}}=t;return i?.disable||!n?{}:Object.entries(n).filter(([o,c])=>!!c.action).reduce((o,[c,s])=>(R(c,e)&&(o[c]=u(typeof s.action=="string"?s.action:c)),o),{})},B=[F,f],M=t=>{let{args:e,parameters:{actions:n}}=t;n?.disable||Object.entries(e).filter(([,i])=>typeof i=="function"&&"_isMockFunction"in i&&i._isMockFunction).forEach(([i,o])=>{let c=o.getMockImplementation();if(c?._actionAttached!==!0&&c?.isAction!==!0){let s=(...a)=>(u(i)(...a),c?.(...a));s._actionAttached=!0,o.mockImplementation(s)}})},k=[M];export{B as argsEnhancers,k as loaders};
