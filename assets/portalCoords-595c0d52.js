import{c as e,m as L,S as U,J as X,X as k,M as z,G as W,N as w,a8 as ce,a9 as de,K as E,aa as ge,H as he,l as g,s as h,t as m,n as j,p as c,ab as me,a as d,b as y,U as Y,ac as pe,D as J,F as Q,B as M,f as ee,i as ae,j as te,ad as ke,ae as Ce,af as ve,ag as fe,ah as we,ai as re,aj as D,L as ye,O as be,Q as xe,R as Ie,$ as Me,ak as Ue,d as ze,o as Se}from"./index-b5a1c391.js";import{N as u}from"./networkState-0824194a.js";import{M as p,h as Ee,A as Le,m as Ve,j as H}from"./animation-e238751c.js";import{m as T,a as Z,b as $e,s as q,c as De}from"./baseApiService-4b880a0b.js";import{u as ne,H as ie,F as G}from"./input-30e46e69.js";import{p as K}from"./form-ee898103.js";const He=["Euclid","Hilbert Dimension","Calypso","Hesperius Dimension","Hyades","Ickjamatew","Budullangr","Kikolgallr","Eltiensleen","Eissentam","Elkupalos","Aptarkaba","Ontiniangp","Odiwagiri","Ogtialabi","Muhacksonto","Hitonskyer","Rerasmutul","Isdoraijung","Doctinawyra","Loychazinq","Zukasizawa","Ekwathore","Yeberhahne","Twerbetek","Sivarates","Eajerandal","Aldukesci","Wotyarogii","Sudzerbal","Maupenzhay","Sugueziume","Brogoweldian","Ehbogdenbu","Ijsenufryos","Nipikulha","Autsurabin","Lusontrygiamh","Rewmanawa","Ethiophodhe","Urastrykle","Xobeurindj","Oniijialdu","Wucetosucc","Ebyeloof","Odyavanta","Milekistri","Waferganh","Agnusopwit","Teyaypilny","Zalienkosm","Ladgudiraf","Mushonponte","Amsentisz","Fladiselm","Laanawemb","Ilkerloor","Davanossi","Ploehrliou","Corpinyaya","Leckandmeram","Quulngais","Nokokipsechl","Rinblodesa","Loydporpen","Ibtrevskip","Elkowaldb","Heholhofsko","Yebrilowisod","Husalvangewi","Ovna'uesed","Bahibusey","Nuybeliaure","Doshawchuc","Ruckinarkh","Thorettac","Nuponoparau","Moglaschil","Uiweupose","Nasmilete","Ekdaluskin","Hakapanasy","Dimonimba","Cajaccari","Olonerovo","Umlanswick","Henayliszm","Utzenmate","Umirpaiya","Paholiang","Iaereznika","Yudukagath","Boealalosnj","Yaevarcko","Coellosipp","Wayndohalou","Smoduraykl","Apmaneessu","Hicanpaav","Akvasanta","Tuychelisaor","Rivskimbe","Daksanquix","Kissonlin","Aediabiel","Ulosaginyik","Roclaytonycar","Kichiaroa","Irceauffey","Nudquathsenfe","Getaizakaal","Hansolmien","Bloytisagra","Ladsenlay","Luyugoslasr","Ubredhatk","Cidoniana","Jasinessa","Torweierf","Saffneckm","Thnistner","Dotusingg","Luleukous","Jelmandan","Otimanaso","Enjaxusanto","Sezviktorew","Zikehpm","Bephembah","Broomerrai","Meximicka","Venessika","Gaiteseling","Zosakasiro","Drajayanes","Ooibekuar","Urckiansi","Dozivadido","Emiekereks","Meykinunukur","Kimycuristh","Roansfien","Isgarmeso","Daitibeli","Gucuttarik","Enlaythie","Drewweste","Akbulkabi","Homskiw","Zavainlani","Jewijkmas","Itlhotagra","Podalicess","Hiviusauer","Halsebenk","Puikitoac","Gaybakuaria","Grbodubhe","Rycempler","Indjalala","Fontenikk","Pasycihelwhee","Ikbaksmit","Telicianses","Oyleyzhan","Uagerosat","Impoxectin","Twoodmand","Hilfsesorbs","Ezdaranit","Wiensanshe","Ewheelonc","Litzmantufa","Emarmatosi","Mufimbomacvi","Wongquarum","Hapirajua","Igbinduina","Wepaitvas","Sthatigudi","Yekathsebehn","Ebedeagurst","Nolisonia","Ulexovitab","Iodhinxois","Irroswitzs","Bifredait","Beiraghedwe","Yeonatlak","Cugnatachh","Nozoryenki","Ebralduri","Evcickcandj","Ziybosswin","Heperclait","Sugiuniam","Aaseertush","Uglyestemaa","Horeroedsh","Drundemiso","Ityanianat","Purneyrine","Dokiessmat","Nupiacheh","Dihewsonj","Rudrailhik","Tweretnort","Snatreetze","Iwundaracos","Digarlewena","Erquagsta","Logovoloin","Boyaghosganh","Kuolungau","Pehneldept","Yevettiiqidcon","Sahliacabru","Noggalterpor","Chmageaki","Veticueca","Vittesbursul","Nootanore","Innebdjerah","Kisvarcini","Cuzcogipper","Pamanhermonsu","Brotoghek","Mibittara","Huruahili","Raldwicarn","Ezdartlic","Badesclema","Isenkeyan","Iadoitesu","Yagrovoisi","Ewcomechio","Inunnunnoda","Dischiutun","Yuwarugha","Ialmendra","Reponudrle","Rinjanagrbo","Zeziceloh","Oeileutasc","Zicniijinis","Dugnowarilda","Neuxoisan","Ilmenhorn","Rukwatsuku","Nepitzaspru","Chcehoemig","Haffneyrin","Uliciawai","Tuhgrespod","Iousongola","Odyalutai"],ea=He.map((a,t)=>({title:a,listTitle:`${t+1}: ${a}`,value:a})),Te=a=>{const t=a.wrapComp;return e(U,{get when(){return a.condition},get fallback(){return a.children},get children(){return e(t,L(()=>a.wrapProps,{get children(){return a.children}}))}})},je=a=>e(he,{class:"hover-reveal-child pos-rel display-inline-block noselect",get children(){return[e(X,{get fallback(){return e(k,{display:"inline-block",children:"???"})},get children(){return[e(z,{get when(){return a.upload.type===p.ImageUrl},get children(){return e(W,{get name(){return a.upload.url},get src(){return a.upload.url},maxWidth:"3em",maxHeight:"3em",borderRadius:"6px",class:"aspect-ratio-square"})}}),e(z,{get when(){return a.upload.type===p.VideoUrl},get children(){return e(w,{height:"100%",backgroundColor:"$neutral6",borderRadius:"5px",get children(){return e(ce,{get href(){return a.upload.url},external:!0,px:"1em",get children(){return["Video ",e(de,{})]}})}})}}),e(z,{get when(){return a.upload.type===p.File},get children(){return e(E,{flexDirection:"row",backgroundColor:"$neutral6",borderRadius:"5px",get children(){return[e(W,{flex:1,mr:"$2",get name(){return a.upload.url},get src(){return a.upload.url},maxWidth:"3em",maxHeight:"3em",borderRadius:"6px",class:"aspect-ratio-square"}),e(w,{flex:4,maxWidth:"10em",overflow:"hidden",get children(){return e(Te,{get condition(){return a.upload.file?.name!=null},wrapComp:ge,get wrapProps(){return{label:a.upload.file?.name}},get children(){return e(k,{class:"max-lines-1",get children(){return a.upload.file?.name??"unknown name"}})}})}})]}})}})]}}),e(w,{class:"reveal pos-abs",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"$danger6",borderRadius:"5px",onClick:()=>a.removeItem(),get children(){return e(k,{size:"xl",children:"‚ùå"})}})]}});var Fe=c('<svg><path d="M736.68 435.86a173.773 173.773 0 0 1 172.042 172.038c0.578 44.907-18.093 87.822-48.461 119.698-32.761 34.387-76.991 51.744-123.581 52.343-68.202 0.876-68.284 106.718 0 105.841 152.654-1.964 275.918-125.229 277.883-277.883 1.964-152.664-128.188-275.956-277.883-277.879-68.284-0.878-68.202 104.965 0 105.842zM285.262 779.307A173.773 173.773 0 0 1 113.22 607.266c-0.577-44.909 18.09-87.823 48.461-119.705 32.759-34.386 76.988-51.737 123.58-52.337 68.2-0.877 68.284-106.721 0-105.842C132.605 331.344 9.341 454.607 7.379 607.266 5.417 759.929 135.565 883.225 285.262 885.148c68.284 0.876 68.2-104.965 0-105.841z"></svg>',!1,!0),Ae=c('<svg><path d="M339.68 384.204a173.762 173.762 0 0 1 172.037-172.038c44.908-0.577 87.822 18.092 119.698 48.462 34.388 32.759 51.743 76.985 52.343 123.576 0.877 68.199 106.72 68.284 105.843 0-1.964-152.653-125.231-275.917-277.884-277.879-152.664-1.962-275.954 128.182-277.878 277.879-0.88 68.284 104.964 68.199 105.841 0z"></svg>',!1,!0),Be=c('<svg><path d="M545.039 473.078c16.542 16.542 16.542 43.356 0 59.896l-122.89 122.895c-16.542 16.538-43.357 16.538-59.896 0-16.542-16.546-16.542-43.362 0-59.899l122.892-122.892c16.537-16.542 43.355-16.542 59.894 0z"></svg>',!1,!0),Re=c('<svg><path d="M485.17 473.078c16.537-16.539 43.354-16.539 59.892 0l122.896 122.896c16.538 16.533 16.538 43.354 0 59.896-16.541 16.538-43.361 16.538-59.898 0L485.17 532.979c-16.547-16.543-16.547-43.359 0-59.901z"></svg>',!1,!0),Pe=c('<svg><path d="M514.045 634.097c23.972 0 43.402 19.433 43.402 43.399v178.086c0 23.968-19.432 43.398-43.402 43.398-23.964 0-43.396-19.432-43.396-43.398V677.496c0.001-23.968 19.433-43.399 43.396-43.399z"></svg>',!1,!0);const Oe=a=>e(j,L({viewBox:"0 0 1024 1024"},a,{get children(){return[(()=>{var t=Fe();return g(()=>h(t,"fill",a.color?.toString?.()??m.primary)),t})(),(()=>{var t=Ae();return g(()=>h(t,"fill",a.color?.toString?.()??m.primary)),t})(),(()=>{var t=Be();return g(()=>h(t,"fill",a.color?.toString?.()??m.primary)),t})(),(()=>{var t=Re();return g(()=>h(t,"fill",a.color?.toString?.()??m.primary)),t})(),(()=>{var t=Pe();return g(()=>h(t,"fill",a.color?.toString?.()??m.primary)),t})()]}}));var Ne=c('<svg><path d="M16 10L18.5768 8.45392C19.3699 7.97803 19.7665 7.74009 20.0928 7.77051C20.3773 7.79703 20.6369 7.944 20.806 8.17433C21 8.43848 21 8.90095 21 9.8259V14.1741C21 15.099 21 15.5615 20.806 15.8257C20.6369 16.056 20.3773 16.203 20.0928 16.2295C19.7665 16.2599 19.3699 16.022 18.5768 15.5461L16 14M6.2 18H12.8C13.9201 18 14.4802 18 14.908 17.782C15.2843 17.5903 15.5903 17.2843 15.782 16.908C16 16.4802 16 15.9201 16 14.8V9.2C16 8.0799 16 7.51984 15.782 7.09202C15.5903 6.71569 15.2843 6.40973 14.908 6.21799C14.4802 6 13.9201 6 12.8 6H6.2C5.0799 6 4.51984 6 4.09202 6.21799C3.71569 6.40973 3.40973 6.71569 3.21799 7.09202C3 7.51984 3 8.07989 3 9.2V14.8C3 15.9201 3 16.4802 3.21799 16.908C3.40973 17.2843 3.71569 17.5903 4.09202 17.782C4.51984 18 5.07989 18 6.2 18Z"fill=transparent stroke-width=2 stroke-linecap=round stroke-linejoin=round></svg>',!1,!0);const _e=a=>e(j,L({viewBox:"0 0 24 24"},a,{get children(){var t=Ne();return g(()=>h(t,"stroke",a.color?.toString?.()??m.primary)),t}}));var We=c('<svg><path d="M14.2639 15.9375L12.5958 14.2834C11.7909 13.4851 11.3884 13.086 10.9266 12.9401C10.5204 12.8118 10.0838 12.8165 9.68048 12.9536C9.22188 13.1095 8.82814 13.5172 8.04068 14.3326L4.04409 18.2801M14.2639 15.9375L14.6053 15.599C15.4112 14.7998 15.8141 14.4002 16.2765 14.2543C16.6831 14.126 17.12 14.1311 17.5236 14.2687C17.9824 14.4251 18.3761 14.8339 19.1634 15.6514L20 16.4934M14.2639 15.9375L18.275 19.9565M18.275 19.9565C17.9176 20 17.4543 20 16.8 20H7.2C6.07989 20 5.51984 20 5.09202 19.782C4.71569 19.5903 4.40973 19.2843 4.21799 18.908C4.12796 18.7313 4.07512 18.5321 4.04409 18.2801M18.275 19.9565C18.5293 19.9256 18.7301 19.8727 18.908 19.782C19.2843 19.5903 19.5903 19.2843 19.782 18.908C20 18.4802 20 17.9201 20 16.8V16.4934M4.04409 18.2801C4 17.9221 4 17.4575 4 16.8V7.2C4 6.0799 4 5.51984 4.21799 5.09202C4.40973 4.71569 4.71569 4.40973 5.09202 4.21799C5.51984 4 6.07989 4 7.2 4H16.8C17.9201 4 18.4802 4 18.908 4.21799C19.2843 4.40973 19.5903 4.71569 19.782 5.09202C20 5.51984 20 6.0799 20 7.2V16.4934M17 8.99989C17 10.1045 16.1046 10.9999 15 10.9999C13.8954 10.9999 13 10.1045 13 8.99989C13 7.89532 13.8954 6.99989 15 6.99989C16.1046 6.99989 17 7.89532 17 8.99989Z"fill=transparent stroke-width=2 stroke-linecap=round stroke-linejoin=round></svg>',!1,!0);const Ye=a=>e(j,L({viewBox:"0 0 24 24"},a,{get children(){var t=We();return g(()=>h(t,"stroke",a.color?.toString?.()??m.primary)),t}}));var Ze=c("<input id=file-upload type=file accept=image/* class=hidden multiple>");const aa=a=>{let t;const{isOpen:V,onOpen:b,onClose:C}=me(),[v,f]=ne(a.validation),[l,s]=d(T(a.value).filter(r=>r.type!=p.File)),[x,F]=d(""),[A,B]=d(""),[R,P]=d(""),[$,O]=d(),[N,I]=d(u.Success);y(()=>{a.showValidationMessages===!0&&f(l())},[a.showValidationMessages]),y(()=>{(a.value==null||a.value.length===0)&&s([])},[a.value]),y(async()=>{const r=$();if(r==null)return;const i=[];for(const n of r)try{const o=URL.createObjectURL(n),ue=await Ee(n);i.push({type:p.File,url:o,file:n,imageDetails:ue})}catch{Y.show({status:"danger",title:"Image upload upload error!",description:`"${n.name??"unknown name"}" caused an error! Can you try again?`})}try{s(n=>{const o=[...T(n),...i];return a.onChange(o),f(o),o}),I(u.Success)}catch(n){I(u.Error),pe().e("Media upload exception",n),Y.show({status:"danger",title:"Error processing uploads!",description:"Something went wrong when processing all the uploaded items."})}finally{O(void 0),S()}},[$]);const le=async r=>{const i=[];for(let n=0;n<r.length;n++){const o=r[n];i.push(o)}O(i)},_=async(r,i)=>{s(n=>{const o=[...T(n),{type:r,url:i}];return f(o),a.onChange(o),o}),S()},S=()=>{B(""),P(""),I(u.Pending),C()},oe=r=>()=>{s(i=>{const n=[...i];return n.splice(r,1),a.onChange(n),f(n),n})},se=r=>(a.maxUploads??0)<0?r.label:`${r.label} (${(l()??[]).length} / ${a.maxUploads??0})`;return[e(te,{get invalid(){return!v().isValid},get children(){return[e(J,{name:"FormMediaUploadInput"}),e(Q,{textAlign:"center",get for(){return a.id},get children(){return e(ie,{get label(){return se(a)},get helpText(){return a.helpText}})}}),e(E,{gap:"$2",flexWrap:"wrap",get children(){return[e(M,{colorScheme:"warning",onClick:b,children:"Upload"}),e(ee,{get each(){return l()},children:(r,i)=>e(je,{upload:r,get removeItem(){return oe(i())}})})]}}),e(U,{get when(){return!v().isValid},get children(){return e(ae,{get children(){return v().errorMessage}})}})]}}),e(Ue,{size:"5xl",get opened(){return V()},onClose:S,get children(){return[e(ke,{}),e(Ce,{onClick:()=>{$()==null&&I(u.Pending)},get children(){return[e(ve,{}),e(fe,{children:"Upload media"}),e(we,{pt:"1em",pb:"2em",get children(){return[e(re,{columns:3,gap:"10px",get children(){return[e(D,{class:"pointer",get children(){return e(w,{flexDirection:"column",justifyContent:"center",height:"100%",onClick:()=>{t?.click?.(),setTimeout(()=>I(u.Loading),Le.backgroundDelay)},get children(){return e(X,{get children(){return[e(z,{get when(){return N()!==u.Loading},get children(){return[e(Oe,{"font-size":"7em",opacity:"0.7"}),e(k,{children:"Upload image"})]}}),e(z,{get when(){return N()===u.Loading},get children(){return e(ye,{})}})]}})}})}}),e(D,{class:"pointer",get children(){return e(w,{flexDirection:"column",onClick:()=>F("imageUrl"),get children(){return[e(Ye,{"font-size":"7em",opacity:"0.7"}),e(k,{children:"Enter image url"})]}})}}),e(D,{class:"pointer",get children(){return e(w,{flexDirection:"column",onClick:()=>F("videoUrl"),get children(){return[e(_e,{"font-size":"7em",opacity:"0.7"}),e(k,{children:"Enter video url"})]}})}})]}}),e(U,{get when(){return x()==="imageUrl"},get children(){return e(E,{direction:"row",gap:"1em",mt:"2em",get children(){return[e(G,{id:"hostedImage",label:"Image url",get value(){return A()},placeholder:"https://i.imgur.com/aKaOqIh.gif",onChange:B,showValidationMessages:!1,validation:r=>Z(q,$e(Ve))((r??"").toString())}),e(M,{variant:"solid",mt:"1.5em",onClick:()=>_(p.ImageUrl,A()),children:"Add"})]}})}}),e(U,{get when(){return x()==="videoUrl"},get children(){return e(E,{direction:"row",gap:"1em",mt:"2em",get children(){return[e(G,{id:"youtubeUrl",label:"Youtube video url",get value(){return R()},placeholder:"https://www.youtube.com/watch?v=XXX",onChange:P,showValidationMessages:!1,validation:r=>Z(q,De)((r??"").toString())}),e(M,{variant:"solid",mt:"1.5em",onClick:()=>_(p.VideoUrl,R()),children:"Add"})]}})}}),(()=>{var r=Ze();return be(r,"change",xe(le)),Ie(i=>t=i,r),r})(),e(Me,{mt:"2em",justifyContent:"center",get children(){return e(M,{variant:"outline",colorScheme:"warning",onClick:S,children:"Cancel"})}})]}})]}})]}})]},ta=a=>{const[t,V]=ne(a.validation),[b,C]=d(a.value);y(()=>{a.showValidationMessages===!0&&V(a.value)},[a.showValidationMessages]),y(()=>{(a.value==null||a.value.length===0)&&C("")},[a.value]);const v=l=>{C(l),a.onChange(l)},f=l=>()=>{C(s=>{if(s.length>=H)return s;const x=s+l;return v(x),x})};return y(()=>{const l=(b()??"").split("").filter(s=>K.includes(s.toLowerCase())).join("").toUpperCase().slice(0,H);C(l),a.onChange(l)},[b]),e(te,{get invalid(){return!t().isValid},get children(){return[e(J,{name:"PortalCoordInput"}),e(Q,{textAlign:"center",get for(){return a.id},get children(){return e(ie,{get label(){return a.label},get helpText(){return a.helpText}})}}),e(ze,{get id(){return a.id},class:"nms-portal-font noselect",get placeholder(){return a.placeholder},get value(){return b()},size:"lg",maxlength:H,get onInput(){return Se(v)}}),e(re,{columns:{"@initial":3,"@sm":4,"@md":8,"@lg":16},mt:"$2",class:"nms-portal-font",gap:"4px",get children(){return e(ee,{each:K,children:l=>e(M,{variant:"outline",size:"lg",p:"0",get onClick(){return f(l)},get children(){return e(k,{size:"4xl",get children(){return l.toUpperCase()}})}})})}}),e(U,{get when(){return!t().isValid},get children(){return e(ae,{get children(){return t().errorMessage}})}})]}})};export{aa as F,ta as P,ea as g};
