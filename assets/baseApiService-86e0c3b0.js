import{ax as M,ay as w,ac as f,a as $,b as V,c as n,S as m,F as x,a4 as T,a5 as O,a6 as A,az as j,K as C,f as b,T as F,g as v,aA as y,a7 as B,aB as P,aC as I,aD as U,aE as E,aF as L,i as k,j as D,al as u}from"./index-11c684f9.js";import{u as _,H as N}from"./input-6d1a0532.js";const h={general:{segment:"segment"},verify:{id:"id",check:"check",decision:"decision"},status:{id:"id"}},K={captcha:{header:"Captcha"},routes:{image:{upload:""},form:`form/:${h.general.segment}/`,verify:`verify/:${h.general.segment}/:${h.verify.decision}/:${h.verify.id}/:${h.verify.check}`,status:`status/:${h.general.segment}/:${h.status.id}`,bugReport:"bug-report",version:"version"}},W={community:"Community",builder:"Builder",planetBuild:"Build"},R="ABCDEFGHIJKLMNOPQRSTUVWXYZ",q=e=>e.length==0?e:[e[0].toUpperCase(),...e.slice(1,e.length)].join(""),z=e=>{if(e.length==0)return e;let t="";for(const r of e)R.includes(r)&&(t+=" "),t+=r;return t};var S=(e=>(e[e.pending=0]="pending",e[e.changesNeeded=1]="changesNeeded",e[e.approved=2]="approved",e[e.approvedAndProcessed=3]="approvedAndProcessed",e[e.denied=4]="denied",e))(S||{});const G=e=>{const t=S[e??0];return q(z(t))},g=(e,t=[])=>e==null?t:Array.isArray(e)==!0?[...e]:[e],Q=e=>({isValid:!0}),X=e=>t=>t!=null?{isValid:!0}:{isValid:!1,errorMessage:e??"Field shouldn't be empty"},Z=(...e)=>t=>{for(const r of e){const a=r(t);if(a.isValid===!1)return a}return{isValid:!0}},ee=e=>t=>{const r=M()?.toString?.(),a=e[w[r]];return a==null?(f().w(`separateValidation - ${r} validator not found`),{isValid:!0}):a(t)},te=e=>t=>{const r=g(t);for(const a of r){const i=e(a);if(i.isValid===!1)return i}return{isValid:!0}},re=e=>{const t=[];for(const r in e.validationObj)if(Object.prototype.hasOwnProperty.call(e.validationObj,r)!==!1)try{const i=e.data[r],{label:l,validationLabel:o,validator:s}=e.validationObj[r],c=s(i);if(c.isValid===!1){const d=c.errorMessage??`Validation failed for ${r}`,p=o??l;t.push({isValid:c.isValid,errorMessage:e.includeLabelInErrMsgs?`${p}: ${d}`:d})}}catch(i){const l=`exception while processing ${r}`;f().e(l,i),t.push({isValid:!1,errorMessage:l})}return t},ae=e=>t=>(t?.length??0)>=e?{isValid:!0}:{isValid:!1,errorMessage:`Minimum length required is ${e}`},se=e=>t=>(t?.length??0)<=e?{isValid:!0}:{isValid:!1,errorMessage:`Text is too long! Maximum length allowed is ${e}`},ne=e=>{const t=[],r=`${e}`,a=r.split("").filter(l=>l===".").length,i=r[r.length-1]===".";return(a<1||i)&&t.push("Should have at least one period in a sensible location."),t.length>0?{isValid:!1,errorMessage:`Should be a valid link/url. (${e}) does not meet the requirements: ${t.join(". ")}.`}:{isValid:!0}},ie=e=>{const t=`${e}`,r="https://www.youtube.com/watch?v=";return t.includes(r)?{isValid:!0}:{isValid:!1,errorMessage:`Youtube url should start with ${r}`}},le=e=>t=>g(t).length>=e?{isValid:!0}:{isValid:!1,errorMessage:`Minimum number of items that need to be selected is ${e}`},oe=e=>t=>g(t).length<=e?{isValid:!0}:{isValid:!1,errorMessage:`Too many items selected! Maximum number of items allowed to be selected is ${e}`},ce=e=>t=>{const r=g(t);for(const a of r){let i=!1;if(e.includes(a)){i=!0;continue}if(i==!1)return{isValid:!1,errorMessage:"Selected option is invalid"}}return{isValid:!0}},J=e=>{const[t,r]=$(e.selectedValues??[],{equals:!1}),[a,i]=_(e.validation);V(()=>{if(e.showValidationMessages===!0){const s=g(e.selectedValues);i(s)}},[e.showValidationMessages]),V(()=>{r(e.selectedValues??[])});const l=s=>{r(s);const c=g(s);e.onChange?.(c),i(c)},o=s=>e.options.find(d=>d.value==s);return n(D,{get invalid(){return!a().isValid},get children(){return[n(m,{get when(){return e.hideTitle!=!0},get children(){return n(x,{get children(){return n(N,{get label(){return e.title},get helpText(){return e.helpText}})}})}}),n(T,{get multiple(){return e.multiple},get value(){return t()},onChange:l,get children(){return[n(O,{get children(){return[n(A,{class:"noselect",get children(){return e.placeholder}}),n(j,{class:"noselect",children:({selectedOptions:s})=>n(C,{alignItems:"flex-start",get children(){return n(b,{each:s,children:c=>{const d=o(c.value);return n(F,{borderRadius:5,m:"0.125em 0.25em 0.125em 0",get children(){return n(m,{when:d!=null,get fallback(){return n(v,{textAlign:"start",get children(){return c.textValue}})},get children(){return[n(m,{get when(){return d.image!=null},get children(){return n(y,{get src(){return d.image},get alt(){return d.title},borderRadius:3,height:"1em",width:"1em",mr:"0.5em"})}}),n(v,{textAlign:"start",get children(){return d.title}})]}})}})}})}})}),n(B,{})]}}),n(P,{class:"noselect",get children(){return n(I,{get children(){return n(b,{get each(){return e.options},children:s=>n(U,{get value(){return s.value},get disabled(){return s.disabled},get children(){return[n(m,{get when(){return s.image!=null},get children(){return n(y,{get src(){return s.image},get alt(){return s.title},borderRadius:5,maxHeight:"2em",maxWidth:"2em",ml:"0.5em"})}}),n(E,{get children(){return s.listTitle??s.title}}),n(L,{})]}})})}})}})]}}),n(m,{get when(){return!a().isValid},get children(){return n(k,{get children(){return a().errorMessage}})}})]}})},ue=e=>n(J,{get title(){return e.label},get helpText(){return e.helpText},get selectedValues(){return g(e.value)},get multiple(){return e.multiple},get placeholder(){return e.placeholder},get showValidationMessages(){return e.showValidationMessages},onChange:r=>{e.multiple===!1&&(r?.length??0)===1&&e.onChange?.(r[0]),e.onChange?.(r)},get validation(){return e.validation},get options(){return g(e.options)}});class de{_baseUrl="https://api.assistantapps.com";constructor(t){this._baseUrl=t}async get(t,r,a){let i=u;r!=null&&(i={...i,...r()});let l=u;try{if(l=await fetch(`${this._baseUrl}/${t}`,i),a!=null)return a(l)}catch(s){return f().i("BaseApiService get",s?.toString?.()),{isSuccess:!1,value:u,errorMessage:s?.toString?.()??""}}let o=u;try{o=await l.json()}catch(s){return{isSuccess:!1,value:u,errorMessage:s?.toString?.()??""}}return{isSuccess:!0,value:o,errorMessage:""}}async post(t,r,a,i){let l=u;a!=null&&(l={...l,...a()});let o=u;try{if(o=await fetch(`${this._baseUrl}/${t}`,{...l,method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...l.headers},body:JSON.stringify(r)}),i!=null)return i(o)}catch(c){return f().i("BaseApiService post",c?.toString?.()),{isSuccess:!1,value:u,errorMessage:c?.toString?.()??""}}let s=u;try{s=await o.json()}catch{}return{isSuccess:!0,value:s,errorMessage:""}}async put(t,r,a,i){let l=u;a!=null&&(l={...l,...a()});let o=u;try{if(o=await fetch(`${this._baseUrl}/${t}`,{...l,method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",...l.headers},body:JSON.stringify(r)}),i!=null)return i(o)}catch(c){return f().i("BaseApiService put",c?.toString?.()),{isSuccess:!1,value:u,errorMessage:c?.toString?.()??""}}let s=u;try{s=await o.json()}catch{}return{isSuccess:!0,value:s,errorMessage:""}}async delete(t,r){let a=u;r!=null&&(a={...a,...r()});let i=u;try{i=await fetch(`${this._baseUrl}/${t}`,{...a,method:"DELETE"})}catch(o){return f().i("BaseApiService delete",o?.toString?.()),{isSuccess:!1,errorMessage:o?.toString?.()??""}}let l=u;try{l=await i.json()}catch{}return{isSuccess:!0,errorMessage:""}}}export{S as A,de as B,J as D,ue as F,Z as a,ae as b,ie as c,se as d,ee as e,le as f,X as g,oe as h,K as i,h as j,re as k,q as l,g as m,Q as n,W as o,z as p,ce as q,G as r,ne as s,te as v};
